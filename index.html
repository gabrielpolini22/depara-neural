<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Dashboard DE/PARA â€¢ Pricing</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Inter',sans-serif}
body{
  background:radial-gradient(circle at top,#0f2027,#000);
  color:#fff;
  min-height:100vh;
  padding:30px;
}

h1{margin-bottom:20px}
h1 span{color:#00f7ff}

.dashboard{
  display:grid;
  grid-template-columns:2fr 1.3fr 1.3fr;
  gap:25px;
}

.card{
  background:rgba(255,255,255,0.06);
  backdrop-filter:blur(14px);
  border-radius:20px;
  padding:20px;
  box-shadow:0 0 25px rgba(0,247,255,0.12);
  animation:fade .6s ease;
}

@keyframes fade{
  from{opacity:0;transform:translateY(20px)}
  to{opacity:1;transform:translateY(0)}
}

.card h2{
  margin-bottom:15px;
  display:flex;
  justify-content:space-between;
}

.card span.badge{
  background:#00f7ff;
  color:#000;
  padding:4px 10px;
  border-radius:20px;
  font-size:12px;
}

form{
  display:grid;
  grid-template-columns:repeat(5,1fr);
  gap:10px;
  margin-bottom:15px;
}

input,select,button{
  padding:8px;
  border-radius:8px;
  border:none;
  outline:none;
}

button{
  background:#00f7ff;
  color:#000;
  font-weight:700;
  cursor:pointer;
}

table{
  width:100%;
  border-collapse:collapse;
  font-size:13px;
}

th,td{padding:8px}
th{
  color:#00f7ff;
  border-bottom:1px solid rgba(255,255,255,.2);
}

tbody tr:hover{
  background:rgba(0,247,255,.08);
}

.status{
  padding:4px 10px;
  border-radius:12px;
  font-size:11px;
  font-weight:700;
}
.pendente{background:#ffb703;color:#000}
.feito{background:#2ec4b6;color:#000}

.actions button{
  padding:4px 8px;
  font-size:11px;
  margin-right:5px;
}
.del{background:#ff006e;color:#fff}
</style>
</head>

<body>

<h1>ðŸ“Š Dashboard <span>DE/PARA</span> â€¢ Pricing</h1>

<div class="dashboard">

<!-- CONTROLE -->
<div class="card">
<h2>Controle <span class="badge">DE/PARA</span></h2>

<form id="form">
  <input id="cod" placeholder="COD" required>
  <input id="produto" placeholder="Produto" required>
  <input id="molecula" placeholder="MolÃ©cula" required>
  <input id="data" type="date" required>
  <select id="status">
    <option>Pendente</option>
    <option>Feito</option>
  </select>
  <button>Adicionar</button>
</form>

<table>
<thead>
<tr>
<th>COD</th><th>Produto</th><th>MolÃ©cula</th><th>Data</th><th>Status</th><th>AÃ§Ãµes</th>
</tr>
</thead>
<tbody id="controle"></tbody>
</table>
</div>

<!-- FEITOS -->
<div class="card">
<h2>Feitos <span class="badge">OK</span></h2>
<table>
<thead><tr><th>Produto</th><th>MolÃ©cula</th></tr></thead>
<tbody id="feitos"></tbody>
</table>
</div>

<!-- PRIORIDADE -->
<div class="card">
<h2>Prioridade <span class="badge">ðŸ”¥</span></h2>
<table>
<thead><tr><th>Produto</th><th>MolÃ©cula</th><th>Solicitante</th></tr></thead>
<tbody id="prioridade">
<tr><td>Insulina</td><td>Insulina</td><td>Comercial</td></tr>
</tbody>
</table>
</div>

</div>

<!-- FIREBASE -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

<script>
firebase.initializeApp({
  apiKey: "AIzaSyClN5np6SBVt1wPgHlyJCTd7Gm3TdK0Ctw",
  authDomain: "dashboard-depara.firebaseapp.com",
  projectId: "dashboard-depara",
  storageBucket: "dashboard-depara.firebasestorage.app",
  messagingSenderId: "915717630973",
  appId: "1:915717630973:web:17a83cc103702a3be80794"
});
const db = firebase.firestore();

const tbody = document.getElementById("controle");
const feitos = document.getElementById("feitos");
const form = document.getElementById("form");

form.addEventListener("submit",e=>{
  e.preventDefault();
  db.collection("controle").add({
    cod:cod.value,
    produto:produto.value,
    molecula:molecula.value,
    data:data.value,
    status:status.value
  });
  form.reset();
});

db.collection("controle").onSnapshot(snap=>{
  tbody.innerHTML="";
  feitos.innerHTML="";
  snap.forEach(doc=>{
    const d=doc.data();
    const tr=document.createElement("tr");
    tr.innerHTML=`
      <td>${d.cod}</td>
      <td>${d.produto}</td>
      <td>${d.molecula}</td>
      <td>${d.data}</td>
      <td><span class="status ${d.status=="Feito"?"feito":"pendente"}">${d.status}</span></td>
      <td class="actions">
        <button class="del" onclick="del('${doc.id}')">X</button>
      </td>`;
    tbody.appendChild(tr);

    if(d.status=="Feito"){
      feitos.innerHTML+=`<tr><td>${d.produto}</td><td>${d.molecula}</td></tr>`;
    }
  });
});

function del(id){
  db.collection("controle").doc(id).delete();
}
</script>

</body>
</html>
